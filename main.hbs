<!DOCTYPE html>
<html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <title>Etusivu | HOAS-arvostelut</title>
    <link href="css/main.css" type="text/css" rel="stylesheet"/>
    <script src="js/homepage.js"></script>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>

<ul id="menu">
    <a href="/"><img src="img/logo.png" style="max-height: 80px"></a>
    <input id="search" type="text" placeholder="Hae kohdetta" name="search" onkeyup="searchApartment()">
    {{#if user}}
        <li><p>Kirjautunut käyttäjänä: </p><p id="user">{{ user.username }}</p></li>
        <li><a class="btn btn-secondary" href="/logout">Kirjaudu ulos</a></li>
    {{else}}
        <li><a class="btn btn-secondary" href="/register">Rekisteröidy</a></li>
        <li><a class="btn btn-secondary" href="/login">Kirjaudu</a></li>
    {{/if}}
</ul>

<main>
    <ul id="apartments">
        <!--When li element clicked modal opens-->
        <li>
            <figure>
                <a onclick="getApartmentId(this.id)" id="1" class="review"><img src="img/kimpitie.jpg"></a>
                <figcaption>
                    <h3>Kimpitie 10, Helsinki</h3>
                </figcaption>
                {{#if user}}
                    <button onclick="getApartmentId('1')" class="rate">Arvostele</button>
                {{/if}}
            </figure>
        </li>
        <li>
            <figure>
                <a onclick="getApartmentId(this.id)" id="2" class="review"><img src="img/berliininkatu.jpg"></a>
                <figcaption>
                    <h3>Berliininkatu 5, Helsinki</h3>
                </figcaption>
                {{#if user}}
                    <button onclick="getApartmentId('2')" class="rate">Arvostele</button>
                {{/if}}
            </figure>
        </li>
        <li>
            <figure>
                <a onclick="getApartmentId(this.id)" id="3" class="review"><img src="img/hakaniemenranta.jpg"></a>
                <figcaption>
                    <h3>Hakaniemenranta 12, Helsinki</h3>
                </figcaption>
                {{#if user}}
                    <button class="rate">Arvostele</button>
                {{/if}}
            </figure>
        </li>
        <li>
            <figure>
                <a onclick="getApartmentId(this.id)" id="4" class="review"><img src="img/siltakuja.jpg"></a>
                <figcaption>
                    <h3>Siltakuja 2, Espoo</h3>
                </figcaption>
                {{#if user}}
                    <button class="rate">Arvostele</button>
                {{/if}}
            </figure>
        </li>
        <li>
            <figure>
                <a onclick="getApartmentId(this.id)" id="5" class="review"><img src="img/vaskivuorentie.jpg"></a>
                <figcaption>
                    <h3>Vaskivuorentie 22, Vantaa</h3>
                </figcaption>
                {{#if user}}
                    <button class="rate">Arvostele</button>
                {{/if}}
            </figure>
        </li>
        <li>
            <figure>
                <a onclick="getApartmentId(this.id)" id="6" class="review"><img src="img/juusintie.jpg"></a>
                <figcaption>
                    <h3>Juusintie 5, Kauniainen</h3>
                </figcaption>
                {{#if user}}
                    <button class="rate">Arvostele</button>
                {{/if}}
            </figure>
        </li>
        <li>
            <figure>
                <a onclick="getApartmentId(this.id)" id="7" class="review"><img src="img/kilonkallio.jpg"></a>
                <figcaption>
                    <h3>Kilonkallio 10, Espoo</h3>
                </figcaption>
                {{#if user}}
                    <button class="rate">Arvostele</button>
                {{/if}}
            </figure>
        </li>
        <li>
            <figure>
                <a onclick="getApartmentId(this.id)" id="8" class="review"><img src="img/haukilahdenkuja.jpg"></a>
                <figcaption>
                    <h3>Haukilahdenkuja 15, Helsinki</h3>
                </figcaption>
                {{#if user}}
                    <button class="rate">Arvostele</button>
                {{/if}}
            </figure>
        </li>
        <li>
            <figure>
                <a onclick="getApartmentId(this.id)" id="9" class="review"><img src="img/leppäsuonkatu.jpg"></a>
                <figcaption>
                    <h3>Leppäsuonkatu 7, Helsinki</h3>
                </figcaption>
                {{#if user}}
                    <button class="rate">Arvostele</button>
                {{/if}}
            </figure>
        </li>
        <li>
            <figure>
                <a onclick="getApartmentId(this.id)" id="10" class="review"><img src="img/majurinkulma.jpg"></a>
                <figcaption>
                    <h3>Majurinkulma 2, Espoo</h3>
                </figcaption>
                {{#if user}}
                    <button class="rate">Arvostele</button>
                {{/if}}
            </figure>
        </li>
        <li>
            <figure>
                <a onclick="getApartmentId(this.id)" id="11" class="review"><img src="img/servinkuja.jpg"></a>
                <figcaption>
                    <h3>Servinkuja 6, Espoo</h3>
                </figcaption>
                {{#if user}}
                    <button class="rate">Arvostele</button>
                {{/if}}
            </figure>
        </li>
        <li>
            <figure>
                <a onclick="getApartmentId(this.id)" id="12" class="review"><img src="img/akanapolku.jpg"></a>
                <figcaption>
                    <h3>Akanapolku 2, Vantaa</h3>
                </figcaption>
                {{#if user}}
                    <button class="rate">Arvostele</button>
                {{/if}}
            </figure>
        </li>
    </ul>
</main>

<hr>

<h2 style="text-align: center">Keskustelupalsta</h2>
<aside id="newchat">
    <!--<label for="title">Kirjoita kysymys aloittaaksesi keskustelun:</label>-->
    {{#if user}}
        <input id="chatTitle" type="text" placeholder="Kirjoita kysymys aloittaaksesi keskustelun" name="chat">
        <button onclick="makeQueryForSendChat(); addNewChat()">Lähetä</button>
    {{/if}}
    <ul id="chat"></ul>
    <div id="chatcontents">
        <h2>Tähän klikatun keskustelun otsikko tietokannasta</h2>
        <p>Tähän listana vastauksia kysymyksiin</p>
        <input id="answer" type="text" placeholder="Kirjoita vastaus (max 500 merkkiä)">
        <button onclick="makeQueryForSendAnswer()" >Lähetä vastaus</button>
        <input id="chatid">
        <div id="testanswer"></div>
    </div>
</aside>

<div class="footer">
    <p>Kuvat asunnoista kuuluvat Helsingin seudun opiskelija-asuntosäätiölle:</p>
    <a href="https://www.hoas.fi/" target="_blank">www.hoas.fi</a>
    <hr>
    <p>Logo:</p>
    <a href="https://ucraft.com/" target="_blank">www.ucraft.com</a>
</div>

<!-- Modal -->
<div id="modal" class="modal">
    <div id="modal-content">
        <span class="close">x</span>
        <h2 id="address">Tähän haetaan tietokannasta klikatun asunnon osoite</h2>
        <p id="rating"></p>
        <div id="container"></div>

        <!--<span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>-->

        <h2>Arvostelujen keskiarvot:</h2>
        <div class="starcontainer">
            <p>Kunto</p>
            <p class="center" id="averageshape"></p>
            <img class="star" src="img/star.jpg">
        </div>
        <div class="starcontainer">
            <p>Viihtyvyys</p>
            <p class="center" id="averagecomfort"></p>
            <img class="star" src="img/star.jpg">
        </div>
        <div class="starcontainer">
            <p>Kokonaisarvosana</p>
            <p class="center" id="averagegrade"></p>
            <img class="star" src="img/star.jpg">
        </div>
    </div>
</div>

<div id="modal2" class="modal2">
    <div class="modal-content2">
        <span class="close2">x</span>
        <h2 style="display: inline-block">Arvostelu kohteeseen: </h2>
        <h2 style="display: inline-block" id="apartmentaddress"></h2>
        <h3></h3>
        <form>
            <fieldset>
                <legend>Kunto</legend>
                <select id="shape">
                    <option value="Kiitettävä">Kiitettävä</option>
                    <option value="Hyvä">Hyvä</option>
                    <option value="Tyydyttävä">Tyydyttävä</option>
                    <option value="Välttävä">Välttävä</option>
                </select>
            </fieldset>
            <fieldset>
                <legend>Viihtyvyys</legend>
                <select id="comfort">
                    <option value="5">5</option>
                    <option value="4">4</option>
                    <option value="3">3</option>
                    <option value="2">2</option>
                    <option value="1">1</option>
                </select>
            </fieldset>
            <fieldset>
                <legend>Kokonaisarvosana</legend>
                <select id="grade">
                    <option value="5">5</option>
                    <option value="4">4</option>
                    <option value=3>3</option>
                    <option value="2">2</option>
                    <option value="1">1</option>
                </select>
            </fieldset>
            <br>
            <fieldset>
                <legend>Vapaa sana</legend>
                <textarea id="free_word" style="width: 60%"
                          placeholder="Kirjoita vapaasti kokemuksia ja mielipiteitä asunnosta" rows="10"></textarea>
            </fieldset>
            <input type="button" onclick="makeQueryForSendForm(1)" value="Lähetä">
        </form>
        <div id="test"></div>
        <div id="test2"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
        crossorigin="anonymous"></script>
</body>
</html>
