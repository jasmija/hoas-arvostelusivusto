<!DOCTYPE html>
<html lang="fi">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>Luo tunnus | HOAS-arvostelut</title>
</head>
<style>
    #username:valid {
        border: 1px solid green;
    }

    .login-form {
        width: 300px;
        margin: 0 auto;
        font-family: Tahoma, Geneva, sans-serif;
    }

    .login-form h1 {
        text-align: center;
        color: #4d4d4d;
        font-size: 24px;
        padding: 20px 0 20px 0;
    }

    .login-form input[type="password"],
    .login-form input[type="text"] {
        width: 100%;
        padding: 15px;
        border: 1px solid #dddddd;
        margin-bottom: 15px;
        box-sizing: border-box;
    }

    .login-form input[type="submit"] {
        width: 100%;
        padding: 15px;
        background-color: #535b63;
        border: 0;
        box-sizing: border-box;
        cursor: pointer;
        font-weight: bold;
        color: #ffffff;
    }

    .back {
        width: 100%;
        padding: 15px;
        background-color: #535b63;
        border: 0;
        box-sizing: border-box;
        cursor: pointer;
        font-weight: bold;
        color: #ffffff;
        margin-top: 10px;
    }

</style>
<body>

<div class="login-form">
    <h1>Luo tunnus</h1>
    <form action="/auth/register" method="POST">
        <input type="text" name="username" id="username" placeholder="Käyttäjätunnus" pattern="[A-Z, a-z, 0-9].{2,}"
               required>
        <input type="password" name="password" id="password" placeholder="Salasana" onkeyup="check()" required>
        <input type="password" name="passwordConfirm" id="passwordConfirm" placeholder="Salasana uudestaan"
               onkeyup="check()" required>

        {{#if message}}
            <h4 class="alert alert-danger mt-4">{{message}}</h4>
        {{/if}}
        {{#if message2}}
            <h4 class="alert alert-success mt-4">{{message2}}</h4>
        {{/if}}

        <input type="submit" value="Luo tunnus">
    </form>

    <a href="/login">
        <button class="back" style="margin-top: 50px">Kirjautumissivulle</button>
    </a>

    <a href="/">
        <button class="back">Etusivulle</button>
    </a>
</div>

<script>
    const check = function() {
        if (document.getElementById('password').value === '' || document.getElementById('passwordConfirm').value ===
                '') {
            document.getElementById('password').removeAttribute('style');
            document.getElementById('passwordConfirm').removeAttribute('style');
        } else if (document.getElementById('password').value === document.getElementById('passwordConfirm').value) {
            document.getElementById('password').style.border = 'solid green 1px';
            document.getElementById('passwordConfirm').style.border = 'solid green 1px';
        } else {
            document.getElementById('password').removeAttribute('style');
            document.getElementById('passwordConfirm').removeAttribute('style');
        }
    };
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
        crossorigin="anonymous"></script>
</body>
</html>

